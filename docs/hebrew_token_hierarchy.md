# היררכיית שכבות וסדר עדיפויות במערכת הטוקנים

## מבוא

מסמך זה מפרט את המבנה ההיררכי של מערכת הטוקנים, כולל:
- **6 שכבות היררכיות** מ-Meta-Control (עליון) ועד Infrastructure (תחתון)
- **סדר הפעלה** (Activation Order) - באיזה סדר הטוקנים מופעלים
- **כללי שליטה** (Dominance Rules) - מי שולט במי
- **סדרי עדיפות** (Priority Weights) - ניקוד 85-96

---

## חלק א': המבנה ההיררכי - 6 שכבות

### סקירה כללית

```
┌────────────────────────────────────────────┐
│  שכבה 1: מטא-בקרה                         │
│  Meta-Control Layer                       │
│  T15 (Seriousness) - 96                   │
│  "השכבה שמשגיחה על כל השכבות"            │
└────────────────────────────────────────────┘
            ↓ שולט ב- ↓
┌────────────────────────────────────────────┐
│  שכבה 2: ערכים מוחלטים                    │
│  Absolute Values Layer                    │
│  T13 (Rights) - 94                        │
│  T06 (Security) - 92                      │
│  T01 (Data) - 95                          │
│  "ערכי היסוד הבלתי מתפשרים"              │
└────────────────────────────────────────────┘
            ↓ שולט ב- ↓
┌────────────────────────────────────────────┐
│  שכבה 3: בקרה מוסרית                      │
│  Moral Control Layer                      │
│  T10 (Measure) - 93                       │
│  T12 (Learn) - 91                         │
│  T11 (Monitor) - 89                       │
│  "מעגל הבקרה האתי"                        │
└────────────────────────────────────────────┘
            ↓ שולט ב- ↓
┌────────────────────────────────────────────┐
│  שכבה 4: ממשל ותקינה                      │
│  Governance & Standards Layer             │
│  T08 (Govern) - 85                        │
│  T09 (Standardize) - 87                   │
│  T05 (Identity) - 88                      │
│  "קביעת כללים ואכיפה"                     │
└────────────────────────────────────────────┘
            ↓ שולט ב- ↓
┌────────────────────────────────────────────┐
│  שכבה 5: ביצוע אוטומטי                    │
│  Execution Layer                          │
│  T07 (Automation) - 86                    │
│  T03 (Compute) - 85                       │
│  T04 (Storage) - 85                       │
│  "הפעולות הטכניות"                        │
└────────────────────────────────────────────┘
            ↓ נשען על ↓
┌────────────────────────────────────────────┐
│  שכבה 6: תשתית                            │
│  Infrastructure Layer                     │
│  T02 (Network) - 90                       │
│  T14 (Commons) - 85                       │
│  "התשתית הפיזית והלוגית"                  │
└────────────────────────────────────────────┘
```

---

## חלק ב': פירוט השכבות

### שכבה 1: מטא-בקרה (Meta-Control)

**Hierarchy Level:** 1 (הגבוה ביותר)
**Activation Order:** 1 (נבדק ראשון)

| טוקן | עדיפות | תפקיד | כלל שליטה |
|------|--------|-------|-----------|
| T15 (Seriousness) | 96 | מצב בקרה עליון | **גובר על הכל תמיד** |

**מאפיינים:**
- ✅ יכול לעצור **כל** טוקן אחר
- ✅ יכול לשנות עדיפויות של טוקנים אחרים זמנית
- ✅ אינו כפוף לאף טוקן אחר
- ✅ פועל רק במצבי חירום / חריגות חמורות

**דוגמה:** כאשר T15 פעיל, T07 (Automation) מושהה גם אם יש לו עדיפות מקומית גבוהה.

---

### שכבה 2: ערכים מוחלטים (Absolute Values)

**Hierarchy Level:** 2
**Activation Order:** 2 (נבדק שני)

| טוקן | עדיפות | תפקיד | כלל שליטה |
|------|--------|-------|-----------|
| T01 (Data) | 95 | בסיס נתונים | גובר על שיקולים טכניים |
| T13 (Rights) | 94 | זכויות אדם | גובר על שיקולים טכניים |
| T06 (Security) | 92 | אבטחה | גובר על שיקולים טכניים |

**מאפיינים:**
- ✅ ערכים אלו **אינם ניתנים למשא ומתן**
- ✅ כל פעולה חייבת לעבור בדיקה מול שכבה זו
- ✅ הפרה מפעילה אוטומטית T15
- ✅ גוברים על יעילות, מהירות, עלות

**כלל הזהב:**
> "אם יש קונפליקט בין Rights/Security/Data לבין Compute/Automation/Speed,
> השכבה הזו **תמיד** מנצחת."

**דוגמה:**
- ✗ אסור: "נאפשר גישה לנתונים ללא הצפנה כי זה מהיר יותר"
- ✓ מותר: "נשקיע בחומרה יקרה כדי להצפין בלי להאט"

---

### שכבה 3: בקרה מוסרית (Moral Control)

**Hierarchy Level:** 3
**Activation Order:** 3

| טוקן | עדיפות | תפקיד | כלל שליטה |
|------|--------|-------|-----------|
| T10 (Measure) | 93 | מדידה מוסרית | מעגל סגור של בקרה |
| T12 (Learn) | 91 | למידה מתמידת | מעגל סגור של בקרה |
| T11 (Monitor) | 89 | ניטור רציף | מעגל סגור של בקרה |

**מאפיינים:**
- 🔄 פועלים **במעגל סגור**: T10 ↔ T11 ↔ T12
- ✅ יכולים להפעיל T15 אם מזהים בעיה
- ✅ שולטים על T07 (Automation) - "אין אוטומציה ללא ניטור"
- ✅ מספקים משוב ל-T08 (Govern) לשיפור

**תהליך המעגל:**
```
1. Monitor (T11) צופה → זיהוי אירוע
2. Measure (T10) מכמת → הערכת חומרה
3. Learn (T12) מנתח → הפקת תובנה
4. חזרה ל-Monitor עם ידע חדש
```

**כלל קריטי:**
השלושה חייבים לפעול **ביחד** ביחס 1:1:1 למקסימום יעילות (מקדם ×2.5).

---

### שכבה 4: ממשל ותקינה (Governance)

**Hierarchy Level:** 4
**Activation Order:** 4

| טוקן | עדיפות | תפקיד | כלל שליטה |
|------|--------|-------|-----------|
| T05 (Identity) | 88 | זהות וזיהוי | קביעת כללים ואכיפה |
| T09 (Standardize) | 87 | תקינה | קביעת כללים ואכיפה |
| T08 (Govern) | 85 | ממשל | קביעת כללים ואכיפה |

**מאפיינים:**
- 📋 קובעים את **הכללים** שהשכבות התחתונות פועלות לפיהם
- ✅ T05 הוא **תנאי הכרחי** - אין פעולה ללא זהות
- ✅ T08 מתעדכן מ-T12 (Learning) - "ממשל לומד"
- ✅ T09 מגדיר איך T07 (Automation) פועל

**כלל אכיפה:**
```
אם T05 (Identity) חסר → פעולה נחסמת
אם T09 (Standardize) מוטה → T10 (Measure) יזהה → T15 יופעל
אם T08 (Govern) מפר Rights → T13 יחסום
```

---

### שכבה 5: ביצוע אוטומטי (Execution)

**Hierarchy Level:** 5
**Activation Order:** 5

| טוקן | עדיפות | תפקיד | כלל שליטה |
|------|--------|-------|-----------|
| T07 (Automation) | 86 | אוטומציה | כפוף לכל השכבות מעל |
| T03 (Compute) | 85 | חישוב | כפוף לכל השכבות מעל |
| T04 (Storage) | 85 | אחסון | כפוף לכל השכבות מעל |

**מאפיינים:**
- ⚙️ אלו הן הפעולות **הטכניות** - המנוע של המערכת
- ⛔ **מוגבלים על ידי** T15, T13, T06, T10, T11, T08
- ✅ T03 ↔ T04 סימביוזה (חישוב ↔ זיכרון)
- ⚠️ T07 הכי "מסוכן" - לכן הכי מבוקר

**אילוצים קריטיים:**
- T07: אין אוטומציה ללא ניטור (T11)
- T03: אין חישוב ללא אבטחה (T06)
- T04: אין אחסון של הפרות (T13)

**דוגמה:**
```
T07 מבקש להריץ אלגוריתם המלצות:
  ✓ T05 בודק: יש זהות למי שהפעיל
  ✓ T06 בודק: הקוד מאובטח
  ✓ T11 מפעיל: ניטור על התוצאות
  ✓ T10 מגדיר: מדדי הצלחה
  → רק אז T07 רץ
```

---

### שכבה 6: תשתית (Infrastructure)

**Hierarchy Level:** 6 (התחתון)
**Activation Order:** 6

| טוקן | עדיפות | תפקיד | כלל שליטה |
|------|--------|-------|-----------|
| T02 (Network) | 90 | רשת | משרת את כל השכבות |
| T14 (Commons) | 85 | משאבים משותפים | משרת את כל השכבות |

**מאפיינים:**
- 🏗️ התשתית הפיזית והלוגית של המערכת
- ✅ T02: גבוה (90) כי ללא רשת הכל קורס
- ✅ T14: משאבים פתוחים - אבל **נשלטים** על ידי T15
- ⚠️ T02 דורש T05 + T06 (אין רשת אנונימית)

**כלל:**
אם T14 (Commons) נמצא מפלה → T15 סוגר אותו עד לתיקון.

---

## חלק ג': סדר הפעלה (Activation Order)

כאשר אירוע מגיע למערכת, הטוקנים נבדקים **לפי סדר**:

### תרחיש: קבלת בקשה לפעולה

```
┌─────────────────────────────────────────┐
│ שלב 1: בדיקת Meta-Control               │
│ שאלה: האם T15 (Seriousness) פעיל?       │
│   אם כן → בדיקה מחמירה                  │
│   אם לא → המשך רגיל                     │
└─────────────────────────────────────────┘
            ↓
┌─────────────────────────────────────────┐
│ שלב 2: בדיקת Absolute Values            │
│ שאלות:                                  │
│ • האם מפר T13 (Rights)? → חסימה          │
│ • האם מפר T06 (Security)? → חסימה        │
│ • האם מפר T01 (Data integrity)? → חסימה │
└─────────────────────────────────────────┘
            ↓
┌─────────────────────────────────────────┐
│ שלב 3: הפעלת Moral Control              │
│ • T11 (Monitor) מתחיל לצפות             │
│ • T10 (Measure) מגדיר מה נמדד           │
│ • T12 (Learn) מוכן ללמוד                │
└─────────────────────────────────────────┘
            ↓
┌─────────────────────────────────────────┐
│ שלב 4: בדיקת Governance                 │
│ • T05 (Identity): יש זהות מאומתת?       │
│ • T08 (Govern): מותר לפי מדיניות?       │
│ • T09 (Standardize): עומד בתקנים?       │
└─────────────────────────────────────────┘
            ↓
┌─────────────────────────────────────────┐
│ שלב 5: ביצוע Execution                  │
│ • T07 (Automation) מבצע (אם אוטומטי)    │
│ • T03 (Compute) מחשב                    │
│ • T04 (Storage) שומר                    │
└─────────────────────────────────────────┘
            ↓
┌─────────────────────────────────────────┐
│ שלב 6: תשתית Infrastructure              │
│ • T02 (Network) מעביר נתונים            │
│ • T14 (Commons) מספק משאבים             │
└─────────────────────────────────────────┘
```

**כלל חשוב:**
אם **כל שלב** נכשל → הפעולה נעצרת **מיד** ולא עוברת לשלב הבא.

---

## חלק ד': כללי שליטה (Dominance Rules)

### כלל 1: שכבה עליונה תמיד שולטת

```
שכבה N  →  יכולה לחסום/לשנות  →  כל שכבה N+1 ומטה
```

**דוגמאות:**
- T15 (שכבה 1) יכול לעצור T07 (שכבה 5) ← ✅ תמיד
- T13 (שכבה 2) יכול לחסום T03 (שכבה 5) ← ✅ תמיד
- T10 (שכבה 3) יכול להגביל T07 (שכבה 5) ← ✅ תמיד
- T07 (שכבה 5) **לא יכול** לעקוף T13 (שכבה 2) ← ✗ לעולם לא

### כלל 2: אין "חריגים למצב חירום"

**אסור:**
- "במצב חירום נתיר גישה לנתונים ללא אבטחה"
- "במצב חירום נעקוף את בדיקת זכויות"
- "במצב חירום נכבה את הניטור כי הוא מאט"

**נכון:**
- במצב חירום → T15 **מחזק** את T06, T13
- במצב חירום → T11 **מוגבר**, לא מכובה
- במצב חירום → בקרות **מוגברות**, לא מושבתות

### כלל 3: עדיפות מקומית vs. עדיפות גלובלית

**עדיפות מקומית** (בתוך שכבה):
- T01 (95) > T13 (94) > T06 (92) ← בשכבה 2
- T10 (93) > T12 (91) > T11 (89) ← בשכבה 3

**עדיפות גלובלית** (בין שכבות):
- T11 (89, שכבה 3) > T07 (86, שכבה 5)
- T11 שולט ב-T07 למרות שיש ל-T07 עדיפות גבוהה מ-T08 (85)

**משמעות:**
שכבה > ניקוד עדיפות פנימי.

---

## חלק ה': מטריצת שליטה מלאה

| שולט ↓ / נשלט → | T15 | T13 | T06 | T01 | T10 | T12 | T11 | T05 | T09 | T08 | T07 | T03 | T04 | T02 | T14 |
|-----------------|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|-----|
| **T15** (Meta)  | -   | ✓   | ✓   | ✓   | ✓   | ✓   | ✓   | ✓   | ✓   | ✓   | ✓   | ✓   | ✓   | ✓   | ✓   |
| **T13** (Rights)| ✗   | -   | ✓   | ✓   | ✓   | ✓   | ✓   | ✓   | ✓   | ✓   | ✓   | ✓   | ✓   | ✓   | ✓   |
| **T06** (Sec)   | ✗   | ✗   | -   | ✓   | ✓   | ✓   | ✓   | ✓   | ✓   | ✓   | ✓   | ✓   | ✓   | ✓   | ✓   |
| **T01** (Data)  | ✗   | ✗   | ~   | -   | ✓   | ✓   | ✓   | ✓   | ✓   | ✓   | ✓   | ✓   | ✓   | ✓   | ✓   |
| **T10** (Meas)  | ✗   | ✗   | ✗   | ✗   | -   | ~   | ~   | ✓   | ✓   | ✓   | ✓   | ✓   | ✓   | ✓   | ✓   |
| **T12** (Learn) | ✗   | ✗   | ✗   | ✗   | ~   | -   | ~   | ✓   | ✓   | ✓   | ✓   | ✓   | ✓   | ✓   | ✓   |
| **T11** (Mon)   | ✗   | ✗   | ✗   | ✗   | ~   | ~   | -   | ✓   | ✓   | ✓   | ✓   | ✓   | ✓   | ✓   | ✓   |
| **T05** (ID)    | ✗   | ✗   | ✗   | ✗   | ✗   | ✗   | ✗   | -   | ✓   | ✓   | ✓   | ✓   | ✓   | ✓   | ✓   |
| **T09** (Std)   | ✗   | ✗   | ✗   | ✗   | ✗   | ✗   | ✗   | ~   | -   | ~   | ✓   | ✓   | ✓   | ✓   | ✓   |
| **T08** (Gov)   | ✗   | ✗   | ✗   | ✗   | ✗   | ✗   | ✗   | ~   | ✓   | -   | ✓   | ✓   | ✓   | ✓   | ✓   |
| **T07** (Auto)  | ✗   | ✗   | ✗   | ✗   | ✗   | ✗   | ✗   | ✗   | ✗   | ✗   | -   | ~   | ~   | ✓   | ✓   |
| **T03** (Comp)  | ✗   | ✗   | ✗   | ✗   | ✗   | ✗   | ✗   | ✗   | ✗   | ✗   | ~   | -   | ~   | ✓   | ✓   |
| **T04** (Stor)  | ✗   | ✗   | ✗   | ✗   | ✗   | ✗   | ✗   | ✗   | ✗   | ✗   | ~   | ~   | -   | ✓   | ✓   |
| **T02** (Net)   | ✗   | ✗   | ✗   | ✗   | ✗   | ✗   | ✗   | ✗   | ✗   | ✗   | ✗   | ~   | ~   | -   | ✓   |
| **T14** (Com)   | ✗   | ✗   | ✗   | ✗   | ✗   | ✗   | ✗   | ✗   | ✗   | ✗   | ✗   | ~   | ~   | ~   | -   |

**מקרא:**
- ✓ = יכול לחסום/להגביל/לשלוט
- ✗ = לא יכול לחסום (חסום על ידי)
- ~ = יחס אופקי (שיתוף פעולה, לא שליטה)
- \- = עצמו

---

## חלק ו': תרחישי קונפליקט ופתרון

### תרחיש 1: T07 רוצה מהירות, T11 דורש ניטור שמאט

**קונפליקט:**
- T07 (Automation): "הוספת ניטור תאט אותי ב-15%"
- T11 (Monitor): "אני חייב לנטר כל פעולה"

**פתרון:**
- שכבה 3 (T11) > שכבה 5 (T07)
- → **T11 מנצח**
- הניטור **חובה**, T07 חייב להאט

**אופציות:**
- השקעה ב-T03 (Compute) מהיר יותר
- אופטימיזציה של T11 (ניטור יעיל יותר)
- **אבל לא ביטול הניטור**

### תרחיש 2: T03 רוצה חישוב, T15 אומר HOLD

**קונפליקט:**
- T03: "יש לי משימת חישוב דחופה"
- T15: "אני במצב Seriousness - הכל מוקפא"

**פתרון:**
- שכבה 1 (T15) > שכבה 5 (T03)
- → **T15 מנצח**
- T03 **מושהה** עד שחרור T15

**אין חריגים.**

### תרחיש 3: T01 רוצה data, T13 אומר פרטיות

**קונפליקט:**
- T01: "צריך לאסוף נתונים על משתמשים"
- T13: "זה מפר זכות לפרטיות"

**פתרון:**
- שתיהם בשכבה 2, אבל T13 (94) < T01 (95) מקומית
- **אבל:** T13 הוא Rights - ערך מוחלט
- → **T13 מנצח**
- אם יש קונפליקט חד ≈ T15 מופעל לבדיקה

**הכלל:**
בתוך שכבת Absolute Values, זכויות אדם (T13) תמיד גוברות על שיקולי data.

---

## סיכום: הפירמידה ההיררכית

```
                    T15
                   /   \
               CONTROL  OVER
                 /       \
            T13 T06 T01
           (Absolute Values)
              /         \
          T10 T11 T12
        (Moral Control)
            /       \
        T05 T08 T09
       (Governance)
          /     \
      T07 T03 T04
      (Execution)
        /     \
    T02    T14
  (Infrastructure)
```

### שלוש האמיתות הבסיסיות:

1. **T15 שולט בהכל** - אין יוצא מן הכלל
2. **Rights/Security/Data לא ניתנים למשא ומתן** - אף פעם
3. **שכבה עליונה תמיד מנצחת** - בכל קונפליקט

---

**זוהי ההיררכיה שמבטיחה שהמערכת לעולם לא תעדיף יעילות על מוסר.**
